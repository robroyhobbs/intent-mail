name: email-kit
did: z8iZpsrTemCJNp5nNyX48L9nBLdMt8cLEkvKn
title: Email Kit
description: AI-Native Email System with brand management, intent-based templates, and AI content generation
version: 0.1.0
group: dapp

author:
  name: ArcBlock
  email: support@arcblock.io
  url: https://www.arcblock.io

community: https://github.com/robroyhobbs/intent-mail

main: .blocklet/api/api/index.js

logo: logo.svg

files:
  - .blocklet/api/api
  - .blocklet/api/lib
  - .blocklet/client
  - logo.svg
  - blocklet.md

interfaces:
  - type: web
    name: publicUrl
    path: /
    prefix: '*'
    port: BLOCKLET_PORT
    protocol: http

environments:
  - name: ANTHROPIC_API_KEY
    description: Anthropic API key for AI content generation
    required: false
    secure: true
  - name: EMAIL_PROVIDER
    description: Email provider (resend, smtp, console)
    required: false
    default: console
  - name: RESEND_API_KEY
    description: Resend API key for email delivery
    required: false
    secure: true
  - name: DEFAULT_FROM_EMAIL
    description: Default sender email address
    required: false
    default: noreply@example.com
  - name: DEFAULT_FROM_NAME
    description: Default sender name
    required: false
    default: Email Kit
  - name: SMTP_HOST
    description: SMTP server host (if using smtp provider)
    required: false
  - name: SMTP_PORT
    description: SMTP server port
    required: false
    default: "587"
  - name: SMTP_USER
    description: SMTP username
    required: false
  - name: SMTP_PASS
    description: SMTP password
    required: false
    secure: true
  # PaymentKit & Billing
  - name: EMAIL_REQUIRE_CREDITS
    description: Enable credit-based billing (true/false)
    required: false
    default: "false"
  - name: EMAIL_CREDIT_RATE
    description: Credits charged per email sent
    required: false
    default: "0.01"
  - name: AI_INPUT_TOKEN_RATE
    description: Credits per 1K AI input tokens
    required: false
    default: "0.001"
  - name: AI_OUTPUT_TOKEN_RATE
    description: Credits per 1K AI output tokens
    required: false
    default: "0.003"
  - name: PAYMENT_LIVE_MODE
    description: Use PaymentKit live mode (true/false)
    required: false
    default: "false"
  - name: PAYMENT_CREDIT_PRICE_ID
    description: PaymentKit price ID for credit purchases
    required: false
  - name: USAGE_REPORT_THROTTLE_MS
    description: Batch usage reporting interval in milliseconds
    required: false
    default: "5000"

capabilities:
  clusterMode: false
  component: true

scripts:
  dev: npm run dev

requirements:
  server: '>=1.16.0'
